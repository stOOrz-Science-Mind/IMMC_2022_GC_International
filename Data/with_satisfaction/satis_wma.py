import matplotlib.pyplot as plt
import numpy as np
import math

PASSENGER_NUM = 189

queueing_time = [0, 5.666666666666665, 11.333333333333336, 17.000000000000007, 22.666666666666654, 28.3333333333333,
                 33.999999999999964, 39.66666666666667, 45.33333333333338, 51.000000000000085, 56.66666666666679,
                 62.3333333333335, 68.00000000000011, 73.6666666666667, 79.33333333333329, 84.99999999999987,
                 90.66666666666646, 96.33333333333304, 101.99999999999963, 107.66666666666622, 113.3333333333328,
                 118.99999999999939, 124.66666666666598, 130.33333333333266, 135.9999999999995, 141.66666666666632,
                 147.33333333333314, 152.99999999999997, 158.6666666666668, 164.33333333333363, 170.00000000000045,
                 175.66666666666728, 113.3333333333328, 120.99999999999936, 130.33333333333266, 139.9999999999996,
                 146.9999999999998, 160.3333333333335, 177.333333333334, 188.66666666666765, 200.666666666668,
                 212.00000000000165, 223.3333333333353, 212.00000000000165, 234.66666666666896, 223.3333333333353,
                 240.3333333333358, 246.00000000000261, 251.66666666666944, 257.33333333333616, 257.33333333333616,
                 268.66666666666885, 268.66666666666885, 268.66666666666885, 280.00000000000153, 285.6666666666679,
                 285.6666666666679, 297.00000000000057, 302.6666666666669, 313.9999999999996, 308.33333333333326,
                 313.9999999999996, 320.3333333333326, 331.66666666666526, 251.66666666666944, 259.00000000000273,
                 272.000000000002, 294.66666666666737, 294.66666666666737, 318.9999999999993, 330.333333333332,
                 330.333333333332, 335.99999999999835, 342.66666666666464, 355.9999999999972, 350.33333333333087,
                 367.99999999999653, 362.3333333333302, 366.33333333332996, 372.99999999999625, 378.9999999999959,
                 390.9999999999952, 384.99999999999557, 403.33333333332786, 397.6666666666615, 403.33333333332786,
                 409.3333333333275, 415.3333333333272, 426.66666666665986, 420.9999999999935, 432.99999999999284,
                 432.99999999999284, 444.3333333333255, 449.99999999999187, 455.6666666666582, 461.33333333332456,
                 397.3333333333282, 408.9999999999942, 420.9999999999935, 428.66666666665975, 434.3333333333261,
                 440.33333333332575, 446.3333333333254, 458.33333333332473, 470.33333333332405, 481.66666666665674,
                 487.3333333333231, 490.99999999998954, 499.99999999998903, 499.99999999998903, 509.33333333332183,
                 520.6666666666559, 520.6666666666559, 531.9999999999906, 537.6666666666579, 537.6666666666579,
                 543.3333333333252, 543.3333333333252, 543.3333333333252, 554.6666666666598, 565.9999999999944,
                 565.9999999999944, 577.333333333329, 582.9999999999964, 599.9999999999983, 588.6666666666637,
                 605.6666666666656, 520.6666666666559, 531.9999999999906, 543.3333333333252, 554.6666666666598,
                 568.6666666666614, 585.6666666666633, 591.3333333333306, 603.333333333332, 614.6666666666666,
                 608.9999999999993, 632.6666666666687, 638.6666666666694, 638.6666666666694, 650.000000000004,
                 655.6666666666713, 655.6666666666713, 661.3333333333386, 672.6666666666732, 667.0000000000059,
                 672.6666666666732, 673.6666666666733, 684.0000000000078, 689.6666666666752, 696.3333333333426,
                 696.3333333333426, 707.6666666666772, 713.3333333333445, 719.0000000000118, 730.3333333333464,
                 736.0000000000138, 741.6666666666811, 667.0000000000059, 673.6666666666733, 680.3333333333408,
                 702.6666666666766, 715.0000000000114, 709.3333333333441, 733.0000000000134, 745.0000000000148,
                 739.3333333333475, 763.0000000000168, 777.0000000000184, 777.0000000000184, 782.6666666666857,
                 788.333333333353, 794.0000000000203, 802.666666666688, 797.0000000000207, 805.333333333355,
                 811.666666666689, 811.666666666689, 817.3333333333563, 828.666666666691, 834.3333333333583,
                 834.3333333333583, 845.6666666666929, 851.3333333333602, 856.3333333333608, 862.0000000000281,
                 868.3333333333621, 874.0000000000294, 885.3333333333641]
sorted_queueing_time = np.sort(queueing_time)
offering_seat_time = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3,
                      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,
                      3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
sorted_offering_seat_time = np.sort(offering_seat_time)
variation_within_rows = [16.0, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833, 44.1243696838833,
                         44.1243696838833, 32.0, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804, 16.0,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918, 58.23057616063918,
                         58.23057616063918, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675, 58.1666571155675,
                         58.1666571155675, 58.1666571155675, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         53.987405938792804, 53.987405938792804, 53.987405938792804, 53.987405938792804,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273, 44.54929853544273,
                         44.54929853544273]
sorted_variation_within_rows = np.sort(variation_within_rows)

datax = range(0, 189)
# plt.rc('text', usetex=True)
# plt.rc('font', family='serif')
plt.figure(figsize=(6, 6), dpi=400)

K1 = 1
K2 = 250
K3 = 10

new_offering_seat_time = [K2 * i for i in offering_seat_time]
new_variation_within_rows = [K3 * i for i in variation_within_rows]

dissatisfaction = [K1 * queueing_time[i] + K2 * offering_seat_time[i] + K3 * variation_within_rows[i] for i in
                   range(PASSENGER_NUM)]
sorted_dissatisfaction = np.sort(dissatisfaction)

# plt.plot(datax, K1 * queueing_time)
# plt.plot(datax, sorted_queueing_time)
# plt.plot(datax, new_offering_seat_time)
# plt.plot(datax, sorted_offering_seat_time)
# plt.plot(datax, new_variation_within_rows)
# plt.plot(datax, sorted_variation_within_rows)

plt.plot(datax, dissatisfaction)
plt.plot(datax, sorted_dissatisfaction)

plt.title(r'$\alpha_{\mathrm{satisfy}}$ in window-middle-aisle boarding')
# plt.legend(['queuing', 'offering seat', 'variation', 'dissatisfaction', 'dissatisfaction_sorted'], loc=2)
plt.legend([r'$\alpha_{\mathrm{satisfy}}$', r'$\alpha_{\mathrm{satisfy}}$ sorted'], loc=2)
plt.xlabel('Passenger Sequence')
# plt.legend(['standard_variation_time (sorted)'], loc=2)


plt.show()

print(np.average(dissatisfaction))
