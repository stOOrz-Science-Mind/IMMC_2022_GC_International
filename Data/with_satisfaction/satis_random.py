import matplotlib.pyplot as plt
import numpy as np
import math

PASSENGER_NUM = 189

queueing_time = [0, 0, 7.33333333333333, 7.33333333333333, 13.000000000000005, 23.999999999999982, 29.66666666666663,
                 23.999999999999982, 23.999999999999982, 42.33333333333336, 48.000000000000064, 53.66666666666677,
                 59.33333333333348, 48.000000000000064, 57.333333333333464, 68.66666666666677, 79.99999999999994,
                 57.333333333333464, 80.33333333333327, 85.99999999999986, 94.6666666666664, 100.33333333333299,
                 105.99999999999957, 94.6666666666664, 106.99999999999956, 117.66666666666607, 106.99999999999956,
                 128.9999999999993, 94.6666666666664, 125.33333333333263, 125.33333333333263, 138.99999999999957,
                 147.6666666666665, 147.6666666666665, 159.00000000000014, 159.00000000000014, 170.3333333333338,
                 153.33333333333331, 153.33333333333331, 183.6666666666675, 178.00000000000068, 178.00000000000068,
                 184.66666666666754, 196.0000000000012, 196.0000000000012, 201.66666666666802, 210.66666666666828,
                 216.3333333333351, 201.66666666666802, 214.33333333333505, 231.33333333333553, 201.66666666666802,
                 220.00000000000188, 247.66666666666933, 236.33333333333567, 245.0000000000026, 262.00000000000256,
                 245.0000000000026, 245.0000000000026, 273.00000000000193, 230.66666666666885, 268.66666666666885,
                 285.6666666666679, 263.0000000000025, 276.6666666666684, 271.00000000000205, 294.33333333333405,
                 271.00000000000205, 307.3333333333333, 301.66666666666697, 313.333333333333, 313.333333333333,
                 307.66666666666663, 313.333333333333, 307.66666666666663, 341.3333333333314, 341.3333333333314,
                 341.3333333333314, 352.66666666666407, 360.3333333333303, 341.3333333333314, 352.66666666666407,
                 377.33333333332934, 377.33333333332934, 388.666666666662, 358.3333333333304, 399.9999999999947,
                 405.66666666666106, 382.9999999999957, 382.9999999999957, 421.33333333332683, 398.66666666666146,
                 432.6666666666595, 398.66666666666146, 429.999999999993, 429.999999999993, 447.33333333332536,
                 435.66666666665935, 412.999999999994, 458.66666666665805, 446.99999999999204, 481.3333333333234,
                 469.99999999999073, 481.3333333333234, 475.6666666666571, 458.33333333332473, 452.6666666666584,
                 497.3333333333225, 446.99999999999204, 493.33333333332274, 505.33333333332206, 470.66666666665736,
                 505.33333333332206, 505.33333333332206, 481.99999999999005, 522.3333333333228, 535.6666666666576,
                 541.333333333325, 546.9999999999923, 534.9999999999909, 552.3333333333262, 529.9999999999903,
                 558.3333333333269, 516.6666666666555, 571.9999999999951, 577.6666666666624, 588.999999999997,
                 577.6666666666624, 600.3333333333317, 600.3333333333317, 543.6666666666586, 611.3333333333329,
                 577.333333333329, 622.3333333333342, 628.0000000000015, 599.6666666666649, 629.6666666666683,
                 642.0000000000031, 606.9999999999991, 629.6666666666683, 630.3333333333351, 618.6666666666671,
                 652.666666666671, 618.3333333333337, 665.333333333339, 649.3333333333372, 665.333333333339,
                 665.333333333339, 685.6666666666747, 691.333333333342, 665.333333333339, 697.0000000000093,
                 671.0000000000064, 659.6666666666717, 699.0000000000095, 699.0000000000095, 721.3333333333454,
                 709.6666666666774, 699.0000000000095, 726.6666666666794, 738.3333333333474, 749.666666666682,
                 738.3333333333474, 754.0000000000158, 738.3333333333474, 744.0000000000147, 770.6666666666844,
                 765.000000000017, 782.000000000019, 793.3333333333536, 754.0000000000158, 732.66666666668,
                 806.0000000000217, 759.6666666666831, 806.0000000000217, 817.000000000023, 822.6666666666903,
                 773.6666666666847, 828.3333333333576, 796.333333333354, 839.0000000000255, 816.3333333333562,
                 850.3333333333601, 796.333333333354, 839.6666666666922, 834.0000000000249, 828.3333333333576,
                 813.3333333333559, 861.6666666666947]
sorted_queueing_time = np.sort(queueing_time)
offering_seat_time = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 3, 0, 0,
                      0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 3, 0, 2, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0,
                      0, 0, 0, 2, 0, 0, 0, 2, 3, 0, 0, 3, 0, 3, 0, 0, 3, 2, 0, 0, 3, 0, 0, 0, 3, 0, 3, 0, 0, 0, 0, 2, 3,
                      0, 3, 3, 0, 0, 0, 3, 0, 3, 0, 3, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 3, 0, 3, 0, 0, 3, 3, 3, 3, 0, 3, 3,
                      0, 0, 3, 0, 0, 2, 0, 3, 0, 3, 3, 0, 3, 3, 0, 3, 0, 0, 2, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 3, 3, 0, 3,
                      3, 3, 3, 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 3, 0, 0, 0, 0, 3, 3]
sorted_offering_seat_time = np.sort(offering_seat_time)
variation_within_rows = [22.93817778290159, 62.49927999585275, 63.194936506020795, 25.429117169103613, 47.2,
                         42.00666613765011, 39.5797928241167, 13.957077057894322, 63.82914694714321, 53.27513491301547,
                         45.16458789804243, 65.3678820216779, 54.46099521676041, 18.40652058374966, 27.90412155936825,
                         57.649284470841444, 66.41806983043094, 65.23495995246721, 58.79931972395599, 47.50410508577127,
                         36.96484816687335, 57.73733627385316, 41.05898196497327, 21.789905919943756, 46.8640587230769,
                         31.212817879839047, 29.264312737530673, 29.68501305372797, 3.5, 25.435408390666737,
                         66.7011244283033, 27.81078927322991, 53.59477586481727, 29.493050028777965, 20.1791972090071,
                         47.54198144797922, 47.71750203017756, 29.444184485225602, 31.771685507696944,
                         56.052118604027804, 27.557938965024217, 30.32886413962778, 53.566407383732574,
                         62.1591505733468, 24.579666393179547, 57.080995085930304, 24.65441136997596, 62.81719509815764,
                         39.534288914814184, 50.00239994240277, 38.83606571217018, 58.44655678480983,
                         55.286164634562965, 16.975276139138355, 32.22421449779653, 46.07819440906946,
                         59.34104818757417, 24.044957891416654, 59.179726258238134, 49.04446961686914,
                         37.796296114831144, 32.69005965121508, 50.39603158979882, 31.378973851928297,
                         23.033888078220752, 39.09475668168303, 59.76621118993574, 23.0, 46.43877690034483,
                         39.8165794613249, 35.67632268045573, 50.35235843533051, 40.28697059844534, 40.43068141894223,
                         19.5, 41.740148538307814, 38.27584094438684, 19.487431847218865, 38.61398710312107,
                         51.52630396215122, 44.25110168120111, 38.90809684371622, 59.162826166436645, 49.31774528503914,
                         28.057084666800293, 41.591345253550045, 27.882611068549515, 59.778256916708436,
                         12.531560158256434, 41.591345253550045, 41.69700229033258, 58.511537323847506,
                         27.141112725899802, 40.31674590043199, 49.568538408954524, 54.06662556513029,
                         65.80395124914612, 29.2, 64.33474955263291, 31.771685507696947, 57.33201548873021,
                         49.973593026717616, 31.95622005181464, 47.997499934892446, 69.8787521353952, 41.96188746946448,
                         40.5482428719174, 23.644026729810637, 53.55968633216592, 52.661181148926005, 39.57069622839609,
                         53.81226625965496, 69.57413312431568, 55.06941074680208, 39.44413771398736, 22.61327044016411,
                         64.10117003612336, 45.135351998184305, 67.93644088410873, 58.22508050659957, 50.6596486367602,
                         38.122958961759515, 38.227738620012566, 49.46352191261759, 49.64111199399144,
                         42.92598280761898, 30.979993544221404, 37.41336659537604, 30.694624936623676,
                         49.38582792664309, 49.418215265223814, 46.48612696278321, 54.54686058793851, 48.80737649167388,
                         61.00032786797133, 58.300600339962195, 67.6431814745581, 62.28001284521383, 57.99517221286613,
                         51.57363667611583, 72.41160128045782, 72.30878231584322, 29.832867780352597, 35.40960321720649,
                         27.059933481071234, 41.385987966943595, 58.7789077816184, 32.14591731464511,
                         27.528893911670334, 58.72171659616227, 40.65464303127012, 60.06463185602655,
                         56.040699495991305, 53.1209939666042, 64.77221626592686, 55.50279272252884, 57.94963330341271,
                         70.17976916462464, 29.431955422635447, 57.97723691242969, 56.02356646983481,
                         57.041739103922836, 48.73027806200166, 40.08291406572132, 43.28787359064892, 48.0807653849229,
                         43.17591921430278, 47.617643788831046, 42.77195342745056, 55.86626889277643, 41.02877039346902,
                         44.086279044618855, 41.88364836066695, 34.970844999799475, 59.9219492339827, 51.52708025883089,
                         50.0415827087833, 48.984079046155394, 37.26338685626952, 32.6827171453048, 48.0358199680197,
                         45.19468995357751, 51.80965161048663, 47.44091061520636, 54.34482496061607, 43.76299806914513,
                         63.735076684663994, 39.11725961771862, 53.48121165418749]
sorted_variation_within_rows = np.sort(variation_within_rows)

datax = range(0, 189)
# plt.rc('text', usetex=True)
# plt.rc('font', family='serif')
plt.figure(figsize=(6, 6), dpi=80)

K1 = 1
K2 = 250
K3 = 10

new_offering_seat_time = [K2 * i for i in offering_seat_time]
new_variation_within_rows = [K3 * i for i in variation_within_rows]

dissatisfaction = [K1 * queueing_time[i] + K2 * offering_seat_time[i] + K3 * variation_within_rows[i] for i in
                range(PASSENGER_NUM)]
sorted_dissatisfaction = np.sort(dissatisfaction)

# plt.plot(datax, K1 * queueing_time)
# plt.plot(datax, sorted_queueing_time)
# plt.plot(datax, new_offering_seat_time)
# plt.plot(datax, sorted_offering_seat_time)
# plt.plot(datax, new_variation_within_rows)
# plt.plot(datax, sorted_variation_within_rows)

plt.plot(datax, dissatisfaction)
plt.plot(datax, sorted_dissatisfaction)

plt.title(r'$\alpha_{\mathrm{satisfy}}$ in random boarding')
# plt.legend(['queuing', 'offering seat', 'variation', 'dissatisfaction', 'dissatisfaction_sorted'], loc=2)
plt.legend([r'$\alpha_{\mathrm{satisfy}}$', r'$\alpha_{\mathrm{satisfy}}$ sorted'], loc=2)
plt.xlabel('Passenger Sequence')
# plt.legend(['standard_variation_time (sorted)'], loc=2)


plt.show()

print(np.average(dissatisfaction))